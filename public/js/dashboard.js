!function(e){var t={};function a(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=43)}({43:function(e,t,a){e.exports=a(44)},44:function(e,t){$((function(){var e=$("#follow-table"),t=$("#table");$("#startdate").datepicker({uiLibrary:"bootstrap",disableDates:function(e){return e>new Date(2021,3,7)}}),$("#stopdate").datepicker({uiLibrary:"bootstrap",disableDates:function(e){return e>new Date(2021,3,7)}}),$("#dashboard-logout").on("login",(function(e,t,a){window.location.reload()})),$(".action-new-region").on("click",(function(){$("#search_region_form")[0].reset(),$("#modalSearchRegion").modal("show")})),$(".action-new-gene").on("click",(function(){$("#search_form")[0].reset(),$("#modalSearchGene").modal("show")})),$(".action-new-report").on("click",(function(){$("#report-form")[0].reset(),$(".action-select-text").html("GRCh37"),$("#select-gchr").val("GRCh38"),$("#report_form input[name=ident]").val(""),r.tagsinput("removeAll"),$("#modalReport").modal("show")})),$("#report-view").on("click",".action-edit-report",(function(){var e=$(this).attr("data-uuid");$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}});var t="/api/reports/"+e;$("#report-form")[0].reset(),$("#report_form input[name=ident]").val(""),r.tagsinput("removeAll"),$.get(t,(function(t){$("#edit-report-title").html("Edit User Report"),$("#report-form").find("[name='title']").val(t.fields.title),$("#report-form").find("[name='description']").val(t.fields.description),$("#report-form").find("[name='startdate']").val(t.fields.startdate),$("#report-form").find("[name='stopdate']").val(t.fields.stopdate),$("#report-form").find("[name='ident']").val(e),$("#report-form").find("[name='regions']").val(t.fields.regions),$("#report-form").find("[name='type']").val(t.fields.type),$(".action-select-text").html(t.fields.type),t.fields.genes.forEach((function(e){r.tagsinput("add",{hgncid:e.hgnc_id,short:e.name})})),$("#modalReport").modal("show")})).fail((function(e){swal({title:"Error",text:"An error occurred while retrieving report.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})}))})),$("#report_modal").on("click",".action-select-grch",(function(){var e=$(this).attr("data-uuid");$(".action-select-text").html(e),$("#select-gchr").val(e)})),$("#report-view").on("click",".action-share-report",(function(){$(this).attr("data-uuid"),$(this).closest("tr").attr("data-index"),$(this);swal("The ability to share a report with others is scheduled to be released later this year.  Thank-you for your patience.")})),$("#report-view").on("click",".action-unlock-report",(function(){var e=$(this).attr("data-uuid"),t=($(this).closest("tr").attr("data-index"),$(this));$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}});$.post("/api/reports/unlock",{id:e,_token:"{{ csrf_token() }}"},(function(e){t.removeClass("action-unlock-report").addClass("action-lock-report").html('<i class="fas fa-unlock" style="color:lightgray"></i>'),t.attr("title","Lock Report")})).fail((function(e){swal({title:"Error",text:"An error occurred while unlocking the report.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})}))})),$("#report-view").on("click",".action-lock-report",(function(){var e=$(this).attr("data-uuid"),t=($(this).closest("tr").attr("data-index"),$(this));$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}});$.post("/api/reports/lock",{id:e,_token:"{{ csrf_token() }}"},(function(e){t.removeClass("action-lock-report").addClass("action-unlock-report").html('<i class="fas fa-lock" style="color:red"></i>'),t.attr("title","Unlock Report")})).fail((function(e){swal({title:"Error",text:"An error occurred while locking the report.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})}))})),$("#report-view").on("click",".action-remove-report",(function(){var e=$(this).attr("data-uuid");$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}}),swal({title:"Are you sure?",text:"You will not be able to restore.",icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){if(a){$.post("/api/reports/remove",{id:e,_token:"{{ csrf_token() }}"},(function(a){t.bootstrapTable("remove",{field:"ident",values:e});var r=t.bootstrapTable("getData").length;$("#custom-report-count").html(r)})).fail((function(e){swal({title:"Error",text:"An error occurred while unlocking the report.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})}))}}))})),$(".action-toggle-notifications").on("click",(function(){var e;$(this).hasClass("fa-toggle-off")?($(this).removeClass("fa-toggle-off").addClass("fa-toggle-on"),$(".action-toggle-notifications-text").html("On"),$(".action-light-notification").addClass("fa-lightbulb"),e=1):($(this).removeClass("fa-toggle-on").addClass("fa-toggle-off"),$(".action-toggle-notifications-text").html("Off"),$(".action-light-notification").removeClass("fa-lightbulb"),e=0),$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}});$.post("/api/home/toggle",{value:e,_token:"{{ csrf_token() }}"},(function(e){})).fail((function(e){swal({title:"Error",text:"An error occurred while setting notifications.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})}))})),$(".action-edit-profile").on("click",(function(){$("#modalProfile").modal("show")})),$(".action-select-folder").on("click",(function(){var e=$(this).find(".caption").attr("data-type");$(".action-select-folder").removeClass("border"),$(this).addClass("border"),$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}});var t="/api/home/reports/"+e;$.get(t,(function(t){$("#table").bootstrapTable("load",t.data),$("#table").bootstrapTable("resetSearch",""),1==e?$("#report-toolbar").html('Unless locked <i class="fas fa-lock" style="color:red"></i>, Notifications are deleted after 30 days'):$("#report-toolbar").html("")})).fail((function(e){swal({title:"Error",text:"An error occurred while selecting a folder.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})}))})),$(".action-edit-settings").on("click",(function(){$("#settings-tabs-global").trigger("click"),$("#modalSettings").modal("show")})),$("#collapseFollow").on("shown.bs.collapse",(function(){$("#collapseFollowIcon").addClass("fa-minus-square").removeClass("fa-plus-square")})),$("#collapseFollow").on("hidden.bs.collapse",(function(){$("#collapseFollowIcon").addClass("fa-plus-square").removeClass("fa-minus-square")})),$("#collapseReports").on("shown.bs.collapse",(function(){$("#collapseReportsIcon").addClass("fa-minus-square").removeClass("fa-plus-square")})),$("#collapseReports").on("hidden.bs.collapse",(function(){$("#collapseReportsIcon").addClass("fa-plus-square").removeClass("fa-minus-square")})),e.on("click",".action-follow-gene",(function(t){var a=this;swal({title:"Are you sure?",text:"Unfollowed genes or groups can always be refollowed later.",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){if(t){var r=$(a).closest("tr").data("hgnc");$("#unfollow-gene-field").val(r),$("#unfollow_form").submit();var o=$(a).closest("tr").find("td:first-child").html();e.bootstrapTable("remove",{field:"symbol",values:o}),$(":checkbox[value="+r.substring(1)+"]").prop("checked",!1)}}))})),$("body").on("click",".dropdown-menu li a",(function(){var e=$(this).parents("ul").attr("data-parent");if(void 0!==e){var t=$("[data-attachedUl="+e+"]"),a=t.find(".selection").text();t.find(".selection").text($(this).text()),function(e,t,a){$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}});$.post("/api/home/notify",{gene:e,old:t,new:a,_token:"{{ csrf_token() }}"},(function(e){})).fail((function(e){swal({title:"Error",text:"An error occurred while changing notifications.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})}))}(t.closest("tr").attr("data-hgnc"),a,$(this).text())}else $(this).parents(".btn-group").find(".selection").text($(this).attr("data-value"))})),$(document).click((function(e){$(".dropdown-menu[data-parent]").hide()})),$("#unfollow_form").validate({submitHandler:function(e){$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}});var t=$(e).serialize();$.post("/api/genes/unfollow",t,(function(e){var t=e.gene;$.get("/api/home/follow/reload",(function(e){switch($("#follow-table").bootstrapTable("load",e.data),$("#follow-table").bootstrapTable("resetSearch",""),t){case"@AllActionability":$("#modalSettings").find('input[name="actionability_notify"]').prop("checked",!1);break;case"@AllValidity":$("#modalSettings").find('input[name="validity_notify"]').prop("checked",!1);break;case"@AllDosage":$("#modalSettings").find('input[name="dosage_notify"]').prop("checked",!1);break;case"*":$("#modalSettings").find('input[name="allgenes_notify"]').prop("checked",!1)}$("#modalSearchGene").modal("hide")})).fail((function(e){alert("Error reloading table")}))})).fail((function(e){swal({title:"Error",text:"An error occurred while unfollowing the item.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})})),$("#modalUnFollowGene").modal("hide")},rules:{email:{required:!0,email:!0,maxlength:80}},messages:{email:{required:"Please enter your email address",email:"Please enter a valid email address",maxlength:"Section names must be less than 80 characters"}},errorElement:"em",errorClass:"invalid-feedback",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.parent("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")}}),$("#follow_form").validate({submitHandler:function(e){$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}});var t=$(e).serialize();$.post("/api/genes/follow",t,(function(e){var t=e.gene;$.get("/api/home/follow/reload",(function(e){switch($("#follow-table").bootstrapTable("load",e.data),$("#follow-table").bootstrapTable("resetSearch",""),t){case"@AllActionability":$("#modalSettings").find('input[name="actionability_notify"]').prop("checked",!0);break;case"@AllValidity":$("#modalSettings").find('input[name="validity_notify"]').prop("checked",!0);break;case"@AllDosage":$("#modalSettings").find('input[name="dosage_notify"]').prop("checked",!0);break;case"*":$("#modalSettings").find('input[name="allgenes_notify"]').prop("checked",!0)}$("#modalSearchGene").modal("hide")})).fail((function(e){alert("Error reloading table")}))})).fail((function(e){swal({title:"Error",text:"An error occurred while following a item.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})}))},rules:{email:{required:!0,email:!0,maxlength:80}},messages:{email:{required:"Please enter your email address",email:"Please enter a valid email address",maxlength:"Section names must be less than 80 characters"}},errorElement:"em",errorClass:"invalid-feedback",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.parent("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")}}),$("#search_region_form").validate({submitHandler:function(e){$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}});var t=$(e).serialize();$.post("/api/genes/follow",t,(function(e){var t=e.gene;$.get("/api/home/follow/reload",(function(e){switch($("#follow-table").bootstrapTable("load",e.data),$("#follow-table").bootstrapTable("resetSearch",""),t){case"@AllActionability":$("#modalSettings").find('input[name="actionability_notify"]').prop("checked",!0);break;case"@AllValidity":$("#modalSettings").find('input[name="validity_notify"]').prop("checked",!0);break;case"@AllDosage":$("#modalSettings").find('input[name="dosage_notify"]').prop("checked",!0);break;case"*":$("#modalSettings").find('input[name="allgenes_notify"]').prop("checked",!0)}$("#modalSearchRegion").modal("hide")})).fail((function(e){alert("Error reloading table")}))})).fail((function(e){swal({title:"Error",text:"An error occurred while following a item.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})}))},rules:{email:{required:!0,email:!0,maxlength:80}},messages:{email:{required:"Please enter your email address",email:"Please enter a valid email address",maxlength:"Section names must be less than 80 characters"}},errorElement:"em",errorClass:"invalid-feedback",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.parent("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")}}),$("#profile-form").validate({submitHandler:function(e){$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}});var t=$(e).serialize();$.post("/dashboard/profile",t,(function(e){})).fail((function(e){swal({title:"Error",text:"An error occurred while changing an item.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})})),$("#modalProfile").modal("hide")},rules:{email:{required:!0,email:!0,maxlength:80}},messages:{email:{required:"Please enter your email address",email:"Please enter a valid email address",maxlength:"Section names must be less than 80 characters"}},errorElement:"em",errorClass:"invalid-feedback",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.parent("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")}}),$("#settings-form").validate({submitHandler:function(e){$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}});var t=$(e).serialize();$.post("/dashboard/preferences",t,(function(e){})).fail((function(e){swal({title:"Error",text:"An error occurred while changing an item.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})})),$("#modalSettings").modal("hide")},rules:{email:{required:!0,email:!0,maxlength:80}},messages:{email:{required:"Please enter your email address",email:"Please enter a valid email address",maxlength:"Section names must be less than 80 characters"}},errorElement:"em",errorClass:"invalid-feedback",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.parent("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")}}),$("#report-form").validate({submitHandler:function(e){$.ajaxSetup({cache:!0,contentType:"application/x-www-form-urlencoded",processData:!0,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":window.token,Authorization:"Bearer "+Cookies.get("clingen_dash_token")}});var t=$(e).serialize();$.post("/dashboard/reports",t,(function(e){$.get("/api/home/reports/10",(function(e){$("#table").bootstrapTable("load",e.data),$("#table").bootstrapTable("resetSearch",""),$("#custom-report-count").html(e.data.length)})).fail((function(e){alert("Error reloading table")}))})).fail((function(e){swal({title:"Error",text:"An error occurred while updating the report.  Please refresh the screen and try again.  If the error persists, contact Supprt.",icon:"error"})})),$("#modalReport").modal("hide")},rules:{email:{required:!0,email:!0,maxlength:80}},messages:{email:{required:"Please enter your email address",email:"Please enter a valid email address",maxlength:"Section names must be less than 80 characters"}},errorElement:"em",errorClass:"invalid-feedback",errorPlacement:function(e,t){e.addClass("invalid-feedback"),"checkbox"===t.prop("type")?e.insertAfter(t.parent("label")):e.insertAfter(t)},highlight:function(e,t,a){$(e).addClass("is-invalid").removeClass("is-valid")},unhighlight:function(e,t,a){$(e).addClass("is-valid").removeClass("is-invalid")}}),$(document).on("click",'.native-table [data-toggle="dropdown"]',(function(){if($buttonGroup=$(this).parent(),$buttonGroup.attr("data-attachedUl"))$ul=$("[data-parent="+$buttonGroup.attr("data-attachedUl")+"]");else{var e=+new Date;$ul=$(this).siblings("ul"),$ul.attr("data-parent",e),$buttonGroup.attr("data-attachedUl",e),$(window).resize((function(){$ul.css("display","none").data("top")}))}var t,a,r;$buttonGroup.hasClass("open")?(t=$(this).parent(),a=$ul,r=t.offset().top+t.outerHeight(),a.css("top",r+"px"),a.css("left",t.offset().left+"px"),a.css("position","absolute"),a.css("width",a.width()),a.css("heigt",a.height()),a.css("display","block"),a.appendTo("body")):$ul.css("display","none")}));new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("label"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:window.burl,wildcard:"%QUERY"}});var a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("label"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:window.burl,wildcard:"%QUERY"}});$(".queryFindGene").typeahead(null,{name:"followtermGene",display:"label",source:a,limit:1/0,highlight:!0,hint:!1,autoselect:!0}).bind("typeahead:selected",(function(e,t){$("#follow-gene-field").val(t.hgncid),$("#follow_form").submit()}));var r=$("#selected-genes");r.tagsinput({tagClass:function(e){switch(e.curated){case!0:return"label label-primary";case!1:return"label label-default";case 2:return"label label-danger";default:return"label label-primary"}},itemValue:"hgncid",itemText:"short",typeaheadjs:{name:"followtermGene",displayKey:"short",limit:1/0,source:a}})}))}});